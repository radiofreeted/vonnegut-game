<!DOCTYPE html>
<html>
<head>
    <title>Vonnegut's Asterisk vs Corn Flakes - Mobile</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        canvas {
            display: block;
            touch-action: none;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size to window size
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Player (Vonnegut's Asterisk)
        let player = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            size: 20,
            speed: 5
        };

        // Corn Flake enemy
        let enemy = {
            x: 100,
            y: 100,
            size: 15,
            speed: 2
        };

        // Touch control
        let touchX, touchY;

        // Game loop
        function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw player (asterisk)
            ctx.beginPath();
            for (let i = 0; i < 8; i++) {
                let angle = i * Math.PI / 4;
                ctx.moveTo(player.x, player.y);
                ctx.lineTo(player.x + Math.cos(angle) * player.size, player.y + Math.sin(angle) * player.size);
            }
            ctx.strokeStyle = 'blue';
            ctx.stroke();

            // Draw enemy (corn flake)
            ctx.beginPath();
            ctx.arc(enemy.x, enemy.y, enemy.size, 0, 2 * Math.PI);
            ctx.fillStyle = 'yellow';
            ctx.fill();

            // Move player towards touch point
            if (touchX !== undefined && touchY !== undefined) {
                let dx = touchX - player.x;
                let dy = touchY - player.y;
                let distance = Math.sqrt(dx * dx + dy * dy);
                if (distance > player.speed) {
                    player.x += (dx / distance) * player.speed;
                    player.y += (dy / distance) * player.speed;
                }
            }

            // Move enemy towards player
            let dx = player.x - enemy.x;
            let dy = player.y - enemy.y;
            let distance = Math.sqrt(dx * dx + dy * dy);
            enemy.x += (dx / distance) * enemy.speed;
            enemy.y += (dy / distance) * enemy.speed;

            // Check collision
            if (distance < player.size + enemy.size) {
                alert('Game Over! Corn Flake caught you!');
                enemy.x = Math.random() * canvas.width;
                enemy.y = Math.random() * canvas.height;
            }

            requestAnimationFrame(gameLoop);
        }

        // Handle touch events
        canvas.addEventListener('touchstart', handleTouch, false);
        canvas.addEventListener('touchmove', handleTouch, false);
        canvas.addEventListener('touchend', function() {
            touchX = undefined;
            touchY = undefined;
        }, false);

        function handleTouch(e) {
            e.preventDefault();
            touchX = e.touches[0].clientX;
            touchY = e.touches[0].clientY;
        }

        // Start the game
        gameLoop();
    </script>
</body>
</html>
